<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">
  {%- include head.html -%}
  <body>
    {%- include header.html -%}
    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        {{ content }}
      </div>
    </main>
    {%- include footer.html -%}
    
    <!-- Mermaid script -->
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
      
      document.querySelectorAll('pre.language-mermaid, code.language-mermaid').forEach((block) => {
        const pre = block.tagName === 'PRE' ? block : block.parentElement;
        pre.outerHTML = `<pre class="mermaid">${block.textContent}</pre>`;
      });
      
      mermaid.initialize({ startOnLoad: true });
    </script>
  </body>
</html>